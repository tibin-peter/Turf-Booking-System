<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body class="bg-gray-100 font-sans">

<header class="bg-gradient-to-r from-blue-700 to-blue-600 text-white p-5 shadow">
    <h1 class="text-2xl font-bold text-center">Turf Booking Admin Panel</h1>
</header>

<div class="flex">

    <!-- SIDEBAR -->

    <aside class="w-64 bg-white shadow-lg min-h-screen p-5 space-y-2 border-r">
        <a href="/admin/dashboard" class="block p-3 rounded bg-blue-50 text-blue-700 font-semibold">Dashboard</a>
        <a href="/admin/turfs" class="block p-3 rounded hover:bg-gray-100">Manage Turfs</a>
        <a href="/admin/slots" class="block p-3 rounded hover:bg-gray-100">Manage Slots</a>
        <a href="/admin/bookings" class="block p-3 rounded hover:bg-gray-100">Manage Bookings</a>
        <a href="/admin/users" class="block p-3 rounded hover:bg-gray-100">Users</a>
        <a href="/admin/logout" class="block p-3 rounded bg-red-50 text-red-600 hover:bg-red-100 font-semibold mt-6">
            Logout
        </a>
    </aside>

    <!-- MAIN -->

    <main class="flex-1 p-8">

        <h2 class="text-3xl font-bold mb-8 text-gray-800">Dashboard Overview</h2>

        <!-- STATS -->
        <div class="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-6 mb-10">
            <div class="p-6 bg-white rounded-xl shadow border-l-4 border-blue-600">
                <p class="text-gray-500 text-sm">Total Users</p>
                <p class="text-3xl font-bold">{{ .TotalUsers }}</p>
            </div>

            <div class="p-6 bg-white rounded-xl shadow border-l-4 border-green-600">
                <p class="text-gray-500 text-sm">Total Turfs</p>
                <p class="text-3xl font-bold">{{ .TotalTurfs }}</p>
            </div>

            <div class="p-6 bg-white rounded-xl shadow border-l-4 border-yellow-500">
                <p class="text-gray-500 text-sm">Total Slots</p>
                <p class="text-3xl font-bold">{{ .TotalSlots }}</p>
            </div>

            <div class="p-6 bg-white rounded-xl shadow border-l-4 border-red-600">
                <p class="text-gray-500 text-sm">Total Bookings</p>
                <p class="text-3xl font-bold">{{ .TotalBookings }}</p>
            </div>
        </div>

        <!-- CHARTS -->
        <div class="grid grid-cols-1 xl:grid-cols-2 gap-8">
            <div class="bg-white p-6 rounded-xl shadow">
                <h3 class="font-semibold mb-4">Weekly Bookings</h3>
                <canvas id="weeklyChart"></canvas>
            </div>

            <div class="bg-white p-6 rounded-xl shadow">
                <h3 class="font-semibold mb-4">Turf Usage</h3>
                <canvas id="turfChart"></canvas>
            </div>
        </div>

        <div class="mt-10 bg-white p-6 rounded-xl shadow">
            <h3 class="font-semibold mb-4">Monthly Revenue</h3>
            <canvas id="revenueChart"></canvas>
        </div>

    </main>
</div>

<script >
const weeklyLabels = {{ .WeeklyLabels }};
const weeklyValues = {{ .WeeklyValues }};

const turfLabels = {{ .TurfLabels }};
const turfValues = {{ .TurfValues }};

const monthLabels = {{ .MonthLabels }};
const monthValues = {{ .MonthValues }};
</script>

<script> 
new Chart(document.getElementById("weeklyChart"), {
    type: "line",
    data: {
        labels: weeklyLabels,
        datasets: [{
            label: "Bookings",
            data: weeklyValues,
            borderColor: "#2563eb",
            backgroundColor: "rgba(37,99,235,0.2)",
            tension: 0.4,
            fill: true
        }]
    }
});

new Chart(document.getElementById("turfChart"), {
    type: "pie",
    data: {
        labels: turfLabels,
        datasets: [{
            data: turfValues,
            backgroundColor: ["#2563eb", "#16a34a", "#f97316", "#dc2626"]
        }]
    }
});

new Chart(document.getElementById("revenueChart"), {
    type: "bar",
    data: {
        labels: monthLabels,
        datasets: [{
            label: "Revenue (â‚¹)",
            data: monthValues,
            backgroundColor: "#10b981"
        }]
    }
});
</script>


</body>
</html>
